<link rel="stylesheet" href="/javascripts/timeglider/css/aristo/jquery-ui-1.8.5.custom.css" type="text/css" media="screen" title="no title" charset="utf-8">
<link rel="stylesheet" href="/javascripts/timeglider/css/base.css" type="text/css" media="screen" title="no title" charset="utf-8">
<script src="/javascripts/jquery.js"></script>
<script src='/javascripts/timeglider/js/jquery-ui-1.8.9.custom.min.js'></script>
<script src='/javascripts/timeglider/js/timeglider.min.js' type='text/javascript'></script>

   <div id='placement' style='width:1200px; height:400px'></div>
    
<link rel="stylesheet" href="/javascripts/timeglider/css/base.css" type="text/css" media="screen" title="no title" charset="utf-8"> 
 
<link rel="stylesheet" href="/javascripts/timeglider/css/aristo/jquery-ui-1.8.5.custom.css" type="text/css" media="screen" title="no title" charset="utf-8"> 
 
<link rel="stylesheet" href="/javascripts/timeglider/js/timeglider/Timeglider.css" type="text/css" media="screen" title="no title" charset="utf-8"> 
 
<style type='text/css'> 
        #placement {
            margin:32px;
            height:500px;
        }
</style> 
</head> 
<body> 
 
 
 
<div id='placement'></div> 
 
<div class='controls'> 
<table> 
<tr><td id='zoomlevel' width='33%'>...</td><td id='tickwidth' width='33%'>tw</td><td id='focusdate'>...</td></tr> 
<tr><td id='tickpos'></td><td colspan='2' id='note'>...</td></tr> 
</table> 
</div> 
    
    <!-- 3rd party libs --> 
    <script src="/javascripts/timeglider/js/jquery-1.4.4.min.js" type="text/javascript" charset="utf-8"></script> 
    
    <script src="/javascripts/timeglider/js/jquery.tmpl.js" type="text/javascript" charset="utf-8"></script> 
    <script src="/javascripts/timeglider/js/underscore-min.js" type="text/javascript" charset="utf-8"></script> 
    
    <script src="/javascripts/timeglider/js/backbone-min.js" type="text/javascript" charset="utf-8"></script> 
    <script src="/javascripts/timeglider/js/jquery-ui-1.8.9.custom.min.js" type="text/javascript" charset="utf-8"></script> 
 
 
    <script src="/javascripts/timeglider/js/ba-debug.min.js" type="text/javascript" charset="utf-8"></script> 
    <script src="/javascripts/timeglider/js/ba-tinyPubSub.js" type="text/javascript" charset="utf-8"></script> 
    
    <script src="/javascripts/timeglider/js/jquery.mousewheel.min.js" type="text/javascript" charset="utf-8"></script> 
    <script src="/javascripts/timeglider/js/jquery.ui.ipad.js" type="text/javascript" charset="utf-8"></script> 
    <script src="/javascripts/timeglider/js/raphael-min.js" type="text/javascript" charset="utf-8"></script> 
    
    
    <script src="/javascripts/timeglider/js/jquery.global.js" type="text/javascript" charset="utf-8"></script> 
    <!-- insert glob culture file here --> 
    <script src="/javascripts/timeglider/js/jquery.global/jquery.glob.fr-FR.js" type="text/javascript" charset="utf-8"></script> 
    
 
    <!-- TIMEGLIDER --> 
    <script src="/javascripts/timeglider/js/timeglider/TG_Date.js" type="text/javascript" charset="utf-8"></script> 
    
    <script src="/javascripts/timeglider/js/timeglider/TG_Org.js" type="text/javascript" charset="utf-8"></script> 
    <script src="/javascripts/timeglider/js/timeglider/TG_Timeline.js" type="text/javascript" charset="utf-8"></script> 
    <script src="/javascripts/timeglider/js/timeglider/TG_TimelineView.js" type="text/javascript" charset="utf-8"></script> 
    <script src="/javascripts/timeglider/js/timeglider/TG_Mediator.js" type="text/javascript" charset="utf-8"></script> 
    
        
    <script src="/javascripts/timeglider/js/timeglider/timeglider.timeline.widget.js" type="text/javascript" charset="utf-8"></script> 
 
<script>
   $(document).ready(function () { 
      var tg1 = $("#placement").timeline({
        "data_source":"<%=url_for :timeline_json, :ids => @persons.map(&:id).join(",") %>",
         "min_zoom":15,
         "max_zoom":60, 
     });
   });
</script>
<%@persons.each{|person|%>
  <h2><%=link_to person.name,url_for(:index, :ids => person.id)%></h2>
  <table>
    <%person.milestones.each{|milestone|%>
      <tr>
        <td class='from'><%=milestone.date_from_range%></td>
        <td class='to'><%=milestone.date_to_range%></td>
        <td class='what'><%=milestone.what%></td>
        <td class='where'><%=milestone.where%></td>
      </tr>
    <%}%>
  </table>
<%}%>
